<!DOCTYPE html>
<html>
<head>
<title>Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='ui.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h4>âš¡ {{ role|capitalize }}</h4>

    <a href="/dashboard" class="active">
        <i class="bi bi-speedometer2"></i>
        <span>Dashboard</span>
    </a>

    <a href="/">
        <i class="bi bi-people-fill"></i>
        <span>Students</span>
    </a>

    <a href="/logout">
        <i class="bi bi-box-arrow-right"></i>
        <span>Logout</span>
    </a>
</div>

<!-- CONTENT -->
<div class="content">

<div class="glass-card">

<h2 class="text-center mb-4">ðŸ“Š Analytics Dashboard</h2>

<div class="row g-4 mb-4">

<div class="col-md-4">
<div class="stat-card">
<i class="bi bi-people-fill fs-1"></i>
<h5>Total Students</h5>
<h2>{{ total_students }}</h2>
</div>
</div>

<div class="col-md-4">
<div class="stat-card">
<i class="bi bi-book-fill fs-1"></i>
<h5>Total Courses</h5>
<h2>{{ labels|length }}</h2>
</div>
</div>

<div class="col-md-4">
<div class="stat-card">
<i class="bi bi-person-badge-fill fs-1"></i>
<h5>Role</h5>
<h2>{{ role|capitalize }}</h2>
</div>
</div>

</div>

<div class="chart-glass">
<canvas id="chart"></canvas>
</div>

</div>
</div>

<script>
const labels = {{ labels | tojson | safe }};
const counts = {{ counts | tojson | safe }};

new Chart(document.getElementById('chart'), {
    type: 'bar',
    data: {
        labels: labels,
        datasets: [{
            data: counts,
            backgroundColor: '#ffffff',
            borderColor: '#3b82f6',
            borderWidth: 2,
            borderRadius: 10
        }]
    },
    options: {
        plugins: {
            legend: { display: false }
        },
        scales: {
            x: {
                ticks: {
                    color: '#ffffff'
                }
            },
            y: {
                beginAtZero: true,
                ticks: {
                    color: '#ffffff',
                    stepSize: 1
                }
            }
        }
    }
});
</script>

</body>
</html>